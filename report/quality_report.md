# Отчёт о качестве данных: Квалификации F1
## 1. Введение

### 1.1 Краткое описание датасета и предметной области
Данный датасет содержит результаты квалификационных сессий Формулы 1 - высшего класса автогонок с открытыми колёсами. Квалификация определяет стартовую позицию каждого пилота на предстоящей гонке. Данные охватывают несколько сезонов Формулы 1 и включают информацию о гонках, пилотах, командах, а также времени прохождения трёх сегментов квалификации (Q1, Q2, Q3).

Данные представляют особую ценность для спортивной аналитики, так как квалификационные результаты напрямую влияют на итоговые позиции в гонках и чемпионате в целом. Качество квалификации часто определяет стратегию команды на всю гонку.

### 1.2 Предполагаемый «заказчик» анализа
- **Команды F1** (Mercedes-AMG Petronas, Scuderia Ferrari, Red Bull Racing и др.) - для анализа собственной производительности, сравнения с конкурентами и оптимизации стратегии
- **Организаторы чемпионата (FIA/FOM)** - для контроля качества данных, выявления аномалий и улучшения формата проведения квалификаций
- **Спортивные аналитики и журналисты** - для создания прогнозов, аналитических материалов и статистических обзоров
- **Букмекерские конторы** - для построения точных моделей прогнозирования результатов гонок

### 1.3 Задачи интеллектуального анализа данных
На основе этих данных могут быть решены следующие задачи ИАД:
1. **Описательная аналитика и поиск закономерностей** - анализ факторов, влияющих на квалификационный результат
2. **Кластеризация и сегментация** - группировка пилотов и команд по стилю вождения и производительности
3. **Прогнозное моделирование** - предсказание результатов квалификаций на основе исторических данных
4. **Поиск аномалий** - выявление подозрительных результатов, возможных ошибок измерения или манипуляций
5. **Анализ временных рядов** - изучение динамики производительности команд и пилотов в течение сезона

---

## 2. Паспорт датасета

### 2.1 Основные характеристики
| Параметр | Значение |
|----------|----------|
| **Общий размер** | 2,478 записей × 9 столбцов (исходный) |
| **Период данных** | Несколько сезонов Формулы 1 (требует уточнения) |
| **Формат данных** | CSV с разделителями-запятыми |
| **Кодировка** | UTF-8 |

### 2.2 Перечень ключевых признаков
| Признак | Тип данных | Описание | Пример значения |
|---------|------------|----------|-----------------|
| `qualifyId` | Integer | Уникальный идентификатор записи квалификации | 1, 2, 3... |
| `raceId` | Categorical | Идентификатор гонки (категориальный) | 18, 19, 20... |
| `driverId` | Categorical | Идентификатор пилота | 1, 2, 3... |
| `constructorId` | Categorical | Идентификатор команды (конструктора) | 1, 2, 3... |
| `number` | Integer | Номер машины | 22, 4, 23... |
| `position` | Integer | Итоговая позиция в квалификации | 1, 2, 3... |
| `q1` | String/Object | Время в первом сегменте квалификации | "1:26.572" |
| `q2` | String/Object | Время во втором сегменте квалификации | "1:25.187" |
| `q3` | String/Object | Время в третьем сегменте квалификации | "1:26.714" |

### 2.3 Производные признаки (созданные в процессе анализа)
| Признак | Тип данных | Описание |
|---------|------------|----------|
| `q1_sec` | Float | Время Q1 в секундах |
| `q2_sec` | Float | Время Q2 в секундах |
| `q3_sec` | Float | Время Q3 в секундах |
| `position_group` | Categorical | Группировка позиций для анализа |

---

## 3. Основные проблемы качества данных

| № | Проблема | Категория | Влияние на анализ | Пример | Распространённость |
|---|----------|-----------|-------------------|--------|-------------------|
| 1 | **Пропуски в Q2 и Q3** | Ожидаемые пропуски | Среднее | `q2`: 53.6% пропусков, `q3`: 61.1% | Высокая |
| 2 | **Специальные символы в данных** | Ошибки формата | Низкое | Значения `""` вместо NULL | Средняя |
| 3 | **Время в строковом формате** | Неоптимальный формат | Высокое | "1:26.572" вместо числового значения | 100% записей |
| 4 | **Отсутствие справочной информации** | Неполные данные | Критическое | Нет названий команд, пилотов, трасс | 100% записей |
| 5 | **Потенциальные дубликаты комбинаций** | Возможные дубликаты | Среднее | Дубликаты по (raceId, driverId) | Требует проверки |
| 6 | **Выбросы во времени круга** | Аномальные значения | Среднее | Подозрительно быстрое/медленное время | ~3% записей |
| 7 | **Несогласованность типов данных** | Ошибки преобразования | Среднее | Числовые колонки как категории | Несколько колонок |
| 8 | **Отсутствие метаданных** | Неполные данные | Высокое | Нет информации о сезоне, погоде, шинах | 100% записей |

---

## 4. План улучшения качества данных

### 4.1 Критичные улучшения (1-я неделя)
1. **Очистка временных данных**
   - Замена специальных символов (`""`) на `NaN`
   - Стандартизация формата времени
   - Преобразование всех временных данных в числовой формат (секунды)

2. **Верификация выбросов**
   - Проверка самых медленных кругов на предмет технических проблем
   - Сверка аномально быстрых кругов с официальными результатами
   - Маркировка подтверждённых выбросов

3. **Создание базовых справочников**
   - Сопоставление `constructorId` с названиями команд
   - Сопоставление `driverId` с именами пилотов
   - Сопоставление `raceId` с названиями трасс и датами

### 4.2 Важные улучшения (2-я неделя)
4. **Обогащение данных метаинформацией**
   - Добавление сезона для каждой гонки
   - Добавление типа трассы (городская, скоростная, смешанная)
   - Добавление погодных условий на квалификацию

5. **Нормализация структуры данных**
   - Создание отдельных таблиц: гонки, пилоты, команды, результаты
   - Установление связей между таблицами
   - Создание единой схемы данных

6. **Автоматизация контроля качества**
   - Настройка автоматических проверок при загрузке данных
   - Создание алертов для аномалий
   - Регулярные аудиты качества

### 4.3 Дополнительные улучшения (3-я неделя)
7. **Интеграция с внешними источниками**
   - Добавление данных о шинах (состав, температура)
   - Добавление технических параметров машин
   - Добавление данных о стратегиях команд

8. **Создание производных признаков**
   - Разница времени между сегментами
   - Относительная производительность (к лидеру)
   - Тенденции производительности (скользящие средние)

9. **Документация и воспроизводимость**
   - Создание полного data dictionary
   - Документирование бизнес-правил
   - Настройка пайплайна обработки данных

### 4.4 Приоритеты улучшений
| Приоритет | Улучшение | Ожидаемый эффект | Сложность |
|-----------|-----------|------------------|-----------|
| 1- Высокий | Очистка временных данных | Повышение точности анализа | Низкая |
| 1- Высокий | Создание справочников | Улучшение интерпретируемости | Средняя |
| 2- Средний | Верификация выбросов | Повышение достоверности | Средняя |
| 2- Средний | Добавление метаданных | Расширение возможностей анализа | Высокая |
| 3- Низкий | Интеграция внешних данных | Максимальная глубина анализа | Очень высокая |

---

## 5. Краткое резюме

### 5.1 Чему мы научились
В процессе анализа данных квалификаций F1 мы освоили основные этапы первичного исследования данных: от постановки задачи и загрузки данных до аудита качества и разведочного анализа. Мы научились выявлять типичные проблемы качества данных (пропуски, неоптимальные форматы, отсутствие контекста), применять методы поиска аномалий и выбросов, а также создавать информативные визуализации для понимания структуры и закономерностей в данных.

### 5.2 Что требует особого внимания при дальнейших шагах ИАД
1. **Контекстуализация данных** - без справочной информации (названия команд, пилотов, трасс) анализ остаётся абстрактным и малополезным для заказчиков

2. **Временные аспекты** - необходимо учитывать эволюцию Формулы 1: изменения в регламенте, технические инновации, смену команд и пилотов

3. **Специфика спортивных данных** - результаты зависят от множества факторов (погода, технические сбои, стратегии), которые не отражены в текущем датасете

4. **Этичные аспекты анализа** - при прогнозировании результатов или оценке производительности важно избегать упрощений и учитывать контекст каждой конкретной ситуации

5. **Интерпретируемость моделей** - любые выводы и прогнозы должны быть понятны и полезны для команд, пилотов и болельщиков, а не только для data scientist'ов

